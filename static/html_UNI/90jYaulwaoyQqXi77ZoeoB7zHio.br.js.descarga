(function(){var e,o;try{var i=Microsoft.Maps,n=i.Internal,c=n.__assign,l=n.__extends,a=n.__spreadArrays,u=i.globalConfig,f=n.coreConfig,t=u.features,v=t.advertising,y=t.autosuggest,p=t.calendar,w=t.collections,b=t.directions,k=t.feedback,d=t.flyover,g=t.landmarks3D,nt=t.labels,tt=t.layerManager,it=t.localGuide,rt=t.localSearch,ut=t.mapDelay,ft=t.optIn,et=t.print,ot=t.sharing,st=t.sidebar,ht=t.streetside,ct=t.taskBar,lt=t.taskFramework,at=t.trafficControl,vt=t.traffic,yt=t.transit,pt=t.travel,wt=t.xsr,bt=atlas.math,kt=atlas.data,dt=atlas.layer,gt=atlas.Pixel,ni=atlas.data.BoundingBox,s=n.AzureMapEvents,ti=n.AzureMapInteractions,ii=n.Binding,ri=n.BoundsAccumulator,ui=n.Debug,fi=n.Gimme,r=n.AtlasHelper,ei=n.EntityHelper,oi=n.Helper,si=n.LocationRectHelper,hi=n.LocalStorageCache,ci=n.LruCache,li=n.MapMath,ai=n.Network,vi=n.JSEvent,yi=n.ObjectWithId,pi=n.Observable,wi=n.ObservableCollection,bi=n.ObservableObject,ki=n.Overlay,di=n.PyramidTileSpatialIndex,gi=n.TileSystemHelper,nr=n.PerfV2Logger,tr=n.VectorMath,ir=n.TimeoutWrapper,rr=i.Anchor,ur=i.BingMapStyle,fr=i.Color,er=i.globalContainer,or=n.InstrumentationBase,sr=i.LatLonCrs,hr=i.Location,cr=n.ObservableObjectChangedArgs,lr=i.Point,ar=i.Rectangle,vr=i.ResourceManager,yr=i.SimpleAreaPrimitive,pr=i.SimpleLinePrimitive,wr=i.SimplePointPrimitive,br=i.Size;(function(n){function tr(){t={height:400,width:500,useCompactNavBar:!1,style:f.bingMvtData?"Road":"road",labelOverlay:1,isStaticMap:!1,containsLargerMapLink:!0,containsDirectionsLink:!0};er();or();sr();hr();rr();vt();window.addEventListener("keydown",function(n){n.keyCode===27?cr():n.keyCode===9&&lr()});vr()}function vt(){require.config?(require.config({paths:{vs:"/monaco/vs"}}),require(["vs/editor/editor.main"],function(){c=monaco.editor.create(gi,{language:"html",readOnly:!0})})):window.setTimeout(vt,200)}function a(){var n=null,t,i;return e?(t=e.getCamera().center,n=[t[1],t[0]]):(i=customizeMapBootstrapOptions.centerString.split(","),n=[parseFloat(i[0]),parseFloat(i[1])]),n}function p(){return e?r.convertZoom(e.getCamera().zoom,0):customizeMapBootstrapOptions.zoom}function v(){var u="",i=a(),e=p(),o=r.getMapTypeFromMapStyle(t.style),n,f;return t.containsLargerMapLink&&(n=document.createElement("a"),n.id=lt,h||(n.style.display="block",n.style.paddingBottom="5px"),n.innerText=kt(customizeMapBootstrapOptions.largerMapLinkText),n.target="_blank",f=window.location.origin+ti.replace("{centerPoint}",i[0]+"~"+i[1]).replace("{mapStyle}",o).replace("{zoomLevel}",e),n.href=f,u+=n.outerHTML),t.containsLargerMapLink&&t.containsDirectionsLink&&h&&(u+=" &nbsp; | &nbsp;\n        "),t.containsDirectionsLink&&(n=document.createElement("a"),n.id=at,h||(n.style.display="block",n.style.paddingBottom="5px"),n.innerText=kt(customizeMapBootstrapOptions.directionsLinkText),n.target="_blank",f=window.location.origin+ii.replace("{centerPoint}",i[0]+"~"+i[1]).replace("{mapStyle}",o).replace("{zoomLevel}",e).replace("{destinationPoint}",i[0]+"_"+i[1]),n.href=f,u+=n.outerHTML),u}function ir(){var u=window.location.origin,n=a(),f=p(),e=r.getMapTypeFromMapStyle(t.style),o=u+ri.replace("{height}",t.height.toString()).replace("{width}",t.width.toString()).replace("{centerPoint}",n[0]+"~"+n[1]).replace("{zoomLevel}",f).replace("{type}",t.isStaticMap?"s":"d").replace("{style}",e),s=ui.replace("{embedMapSrc}",o).replace("{height}",t.height.toString()).replace("{width}",t.width.toString()),i="";return(t.containsLargerMapLink||t.containsDirectionsLink)&&(i=fi.replace("{mapLinks}",v()).replace("{width}",t.width.toString())),s.replace("{mapExtras}",i)}function yt(n){if(b){var i=!1;u.enableInstrumentation||(u.enableInstrumentation=!0,i=!0);b.logObject({feature:"CE",action:n?"LD":"GE",data:{SZ:t.height+" ~ "+t.width,ST:t.style,CT:a(),TY:t.isStaticMap?"stat":"dyn"}},"",n);i&&(u.enableInstrumentation=!1)}}function rr(){for(var i,t=document.getElementsByClassName(ei),n=0;n<t.length;n++)i=t[n],i.onclick=function(n){var i=fr(n.target),r=i.getElementsByClassName("mapOptionContent")[0],t;r.style.display=window.getComputedStyle(r).display==="none"?"block":"none";t=i.getElementsByClassName("mapContentArrow")[0];t.className=t.className.indexOf("open")>0?t.className.replace("open","close"):t.className.replace("close","open")};document.getElementById(oi).click();document.getElementById(si).click();di.onclick=function(){y.style.visibility="visible";y.style.zIndex="2000";c&&(c.setValue(ir()),c.focus(),ur());yt(!1)};document.getElementById(nr).onclick=function(){y.style.visibility="hidden";y.style.zIndex="auto"}}function ur(){if(c){var n=c.getModel(),t=n.getLineCount();c.setSelection({startLineNumber:1,startColumn:1,endLineNumber:t,endColumn:n.getLineMaxColumn(t)})}}function fr(n){var i=null,t=n.parentElement;return t.classList?i=t.classList.contains("mapContentArrow")?t.parentElement.parentElement:t.parentElement&&t.parentElement.classList.contains("expandArrow")?t.parentElement.parentElement.parentElement:t.classList.contains("mapOptionTitle")?t.parentElement:t:t.parentElement.parentElement,i}function er(){var i=document.getElementById(ai),e=document.getElementById(hi),r,f,n;e.onclick=function(){w(e.value);i.style.display="none"};r=document.getElementById(ci);r.onclick=function(){w(r.value);i.style.display="none"};var u=document.getElementById(li),o=document.getElementById(et),s=document.getElementById(ft);u.onclick=function(){i.style.display="block";o.value=t.height.toString();s.value=t.width.toString()};o.onblur=function(){w(u.value)};s.onblur=function(){w(u.value)};f=document.getElementById("previewSizeDisplay");n=f.innerHTML;n=n.replace("{height}",t.height.toString()).replace("{width}",t.width.toString());f.innerHTML=n}function w(n){var u,e;switch(n){case"c":var i=void 0,r=void 0,f=document.getElementById(ft),s=f.value;if(i=pt(s),isNaN(i)){i=t.width;f.value=i.toString();break}if(f.value=i.toString(),u=document.getElementById(et),e=u.value,r=pt(e),isNaN(r)){r=t.height;u.value=r.toString();break}u.value=r.toString();tt(i,r);break;case"s":tt(o.small.w,o.small.h);break;case"l":default:tt(o.large.w,o.large.h)}ar()}function tt(n,i){var r,f,u;t.width=n;t.height=i;t.useCompactNavBar=n<o.compactNavBarThreshold.w||i<o.compactNavBarThreshold.h;r=document.getElementById(g);r.style.width=n+"px";r.style.height=i+"px";bt();f=document.getElementById(bi);f.innerHTML=customizeMapBootstrapOptions.mapPreviewTitle.replace("{height}",i.toString()).replace("{width}",n.toString());t.isStaticMap&&(u=document.getElementById(ht),document.getElementById(nt).src=it(),u.style.width=n+"px",u.style.height=i+"px");e.resize()}function pt(n){var t=parseInt(n);return isNaN(t)?t:r._clamp(t,gt,dt)}function or(){var t=document.getElementById(vi),n;t.onclick=function(){wt(t.value)};n=document.getElementById(yi);n.onclick=function(){wt(n.value)}}function wt(n){var u=document.getElementById(g),i=document.getElementById(ht),r;n==="d"?(t.isStaticMap=!1,u.style.display="block",i.style.display="none"):n==="s"&&(t.isStaticMap=!0,r=document.getElementById(nt),r.removeEventListener("dragstart",function(n){n.preventDefault()}),r.src=it(),i.style.width=Math.round(t.width)+"px",i.style.height=Math.round(t.height)+"px",i.style.display="block",u.style.display="none",r.addEventListener("dragstart",function(n){n.preventDefault()}))}function it(){var i,r,u,n;return e?(r=a(),i=r[0].toString()+","+r[1].toString()):i=customizeMapBootstrapOptions.centerString,u=Math.ceil(p()),n="Road",t.style==="satellite_road_labels"?n="AerialWithLabels":t.style==="satellite"&&(n="Aerial"),ni.replace("{mapStyle}",n).replace("{centerPoint}",i).replace("{zoomLevel}",u).replace("{width}",t.width.toString()).replace("{height}",t.height.toString()).replace("{market}",customizeMapBootstrapOptions.market).replace("{credential}",customizeMapBootstrapOptions.credentials)}function sr(){l&&(l.onclick=function(){rt()});k.onclick=function(){rt();l.disabled=!0};d&&(d.onclick=function(){rt();l.disabled=!1})}function rt(){var i=l.checked?1:0,u=k.checked,r=f.bingMvtData,n=r?"Road":"road";u||(n=i===1?r?"Hybrid":"satellite_road_labels":r?"Aerial":"satellite");t.labelOverlay=i;t.style=n;e?e.setStyle({style:n}):(customizeMapBootstrapOptions.style=n,customizeMapBootstrapOptions.labelOverlay=i);t.isStaticMap&&(document.getElementById(nt).src=it())}function hr(){var n,t;ut();n=document.getElementById(ot);n.onclick=function(){ut()};t=document.getElementById(st);t.onclick=function(){ut()}}function ut(){var r=document.getElementById(ot),i,n,u;t.containsLargerMapLink=r.checked;i=document.getElementById(st);t.containsDirectionsLink=i.checked;n=document.getElementById(ki);n.innerHTML=v();h?n.classList.remove("stackLinks"):n.classList.add("stackLinks");u=!r.checked&&!i.checked;document.getElementById(ct).style.display=u?"none":"block";bt()}function bt(){var n=t.width,u=document.getElementById(pi),i,r;u.style.minWidth=(!t.containsDirectionsLink&&!t.containsLargerMapLink&&n<o.small.w?n:o.small.w)+"px";i=document.getElementById(wi);i.style.width=n+2+"px";r=document.getElementById(ct);r.style.width=n+2+"px"}function cr(){var n=document.getElementById("closeDialog");n&&n.click()}function lr(){var n=document.getElementById("closeDialog");n&&n.focus()}function kt(n){var t=document.createElement("textarea");return t.innerHTML=n,t.value}function ar(){var n=document.getElementById("extrasMapLinks"),i,r;if(n&&(n.parentElement.style.padding="0 10px 5px",n.classList.remove("stackLinks"),h=!0,n.innerHTML=v()),i=document.getElementById(lt),r=document.getElementById(at),i&&r){var u=i.getBoundingClientRect().width,f=r.getBoundingClientRect().width;h=t.width<u+f+30?!1:!0}n&&(n.innerHTML=v(),h||(n.parentElement.style.padding="0 10px 15px",n.classList.add("stackLinks")))}function vr(){var n=a();e=new atlas.Map(g,{center:[n[1],n[0]],style:customizeMapBootstrapOptions.style,zoom:r.convertZoom(p(),1)});e.controls.add(new atlas.control.ZoomControl,{position:atlas.ControlPosition.TopRight});s.add(e,"stylechanged",pr);s.add(e,"moveend",yr);wr()}function yr(){document.getElementById("extrasMapLinks").innerHTML=v()}function pr(n){var i=f.bingMvtData?"Road":"road",r=e?n.style:i,t=r===i;k.checked=t;d.checked=!t;l.disabled=t;l.checked=r!=="satellite"}function wr(){b=i.logger;yt(!0)}var b,e,dt=800,gt=250,o={small:{w:325,h:280},large:{w:500,h:400},compactNavBarThreshold:{w:500,h:400}},ni="https://dev.virtualearth.net/REST/v1/Imagery/Map/{mapStyle}/{centerPoint}/{zoomLevel}?ms={width},{height}&od=1&c={market}&key={credential}",ti="/maps?cp={centerPoint}&sty={mapStyle}&lvl={zoomLevel}&FORM=MBEDLD",ii="/maps/directions?cp={centerPoint}&sty={mapStyle}&lvl={zoomLevel}&rtp=~pos.{destinationPoint}____&FORM=MBEDLD",ri="/maps/embed?h={height}&w={width}&cp={centerPoint}&lvl={zoomLevel}&typ={type}&sty={style}&src=SHELL&FORM=MBEDV8",ui='<div>\n     <iframe width="{width}" height="{height}" frameborder="0" src="{embedMapSrc}" scrolling="no">\n     <\/iframe>\n     {mapExtras}\n<\/div>',fi='<div style="white-space: nowrap; text-align: center; width: {width}px; padding: 6px 0;">\n        {mapLinks}\n    <\/div>',c,ei="mapOptionTitle",oi="sizeOptionTitle",si="typeOptionTitle",hi="mapSizeSmall",ci="mapSizeLarge",li="mapSizeCustom",ai="mapSizeCustomMore",ft="mapSizeCustomWidth",et="mapSizeCustomHeight",vi="mapTypeStatic",yi="mapTypeDraggable",k=document.getElementById("mapStyleRoad"),l=document.getElementById("mapStyleLabel"),d=document.getElementById("mapStyleAerial"),ot="mapLinkLargerMap",st="mapLinkDirections",g="previewMap",pi="previewContent",wi="previewMapContainer",bi="previewSizeDisplay",ht="staticPreviewMap",nt="staticMapImg",ct="extrasContainer",ki="extrasMapLinks",lt="largeMapLink",at="dirMapLink",y=document.getElementById("codePanel"),di=document.getElementById("generateCodeButton"),gi=document.getElementById("codeArea"),nr="closeDialog",h=!0,t;n.init=tr})(e||(e={})),function(n){function i(){var n=embedMapOptions.center.split(","),i=[parseFloat(n[1]),parseFloat(n[0])],u=r.getAzureMapStyleFromMapType(embedMapOptions.style);t=new atlas.Map(embedMapOptions.containerId,{center:i,style:u,zoom:r.convertZoom(parseFloat(embedMapOptions.zoom),1)});t.controls.add(new atlas.control.ZoomControl,{position:atlas.ControlPosition.TopRight})}var t;n.init=i}(o||(o={}));window.CustomizeMapInit=e.init;window.EmbedMapPageInit=o.init}catch(h){if(i&&i.logger)i.logger.logCriticalError(h);else throw h;}}).call(window)